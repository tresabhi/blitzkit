---
import { Box, Flex, Heading, Text } from '@radix-ui/themes';
import ToolOpenGraph from '../components/ToolOpenGraph.astro';
import { type Tool } from '../constants/tools';
import { getStrings } from '../core/i18n/getStrings';
import BaseLayout from './BaseLayout.astro';

interface Props {
  tool: Tool;
  locale: string;
}

const { tool, locale } = Astro.props;
const strings = await getStrings(locale);
const toolStrings =
  strings.website.tools[
    (tool.strings ?? tool.id) as keyof typeof strings.website.tools
  ];
---

<ToolOpenGraph {locale} tool={tool} />

<BaseLayout {locale}>
  <Box
    style={{
      backgroundImage: `url(/assets/tool-backgrounds/${tool.id}.webp)`,
      backgroundSize: 'cover',
    }}
  >
    <Flex
      direction="column"
      align="center"
      py="6"
      style={{
        backdropFilter: 'blur(4rem)',
        WebkitBackdropFilter: 'blur(4rem)',
      }}
    >
      <Heading size="7">{toolStrings.name}</Heading>
      <Text>{toolStrings.description}</Text>
    </Flex>
  </Box>

  <slot />
</BaseLayout>
